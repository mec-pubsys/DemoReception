{"ast":null,"code":"\"use strict\";\n\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"enabled\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { State } from \"../../State\";\nimport { DEFAULT_TOUCH_SLOP } from \"../constants\";\nimport { WheelDevice } from \"../interfaces\";\nimport GestureHandler from \"./GestureHandler\";\nvar DEFAULT_MIN_POINTERS = 1;\nvar DEFAULT_MAX_POINTERS = 10;\nvar DEFAULT_MIN_DIST_SQ = DEFAULT_TOUCH_SLOP * DEFAULT_TOUCH_SLOP;\nvar PanGestureHandler = function (_GestureHandler) {\n  _inherits(PanGestureHandler, _GestureHandler);\n  var _super = _createSuper(PanGestureHandler);\n  function PanGestureHandler() {\n    var _this;\n    _classCallCheck(this, PanGestureHandler);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.customActivationProperties = ['activeOffsetXStart', 'activeOffsetXEnd', 'failOffsetXStart', 'failOffsetXEnd', 'activeOffsetYStart', 'activeOffsetYEnd', 'failOffsetYStart', 'failOffsetYEnd', 'minVelocityX', 'minVelocityY', 'minVelocity'];\n    _this.velocityX = 0;\n    _this.velocityY = 0;\n    _this.minDistSq = DEFAULT_MIN_DIST_SQ;\n    _this.activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n    _this.activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n    _this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n    _this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n    _this.activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n    _this.activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n    _this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n    _this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n    _this.minVelocityX = Number.MAX_SAFE_INTEGER;\n    _this.minVelocityY = Number.MAX_SAFE_INTEGER;\n    _this.minVelocitySq = Number.MAX_SAFE_INTEGER;\n    _this.minPointers = DEFAULT_MIN_POINTERS;\n    _this.maxPointers = DEFAULT_MAX_POINTERS;\n    _this.startX = 0;\n    _this.startY = 0;\n    _this.offsetX = 0;\n    _this.offsetY = 0;\n    _this.lastX = 0;\n    _this.lastY = 0;\n    _this.activateAfterLongPress = 0;\n    _this.activationTimeout = 0;\n    _this.enableTrackpadTwoFingerGesture = false;\n    _this.endWheelTimeout = 0;\n    _this.wheelDevice = WheelDevice.UNDETERMINED;\n    return _this;\n  }\n  _createClass(PanGestureHandler, [{\n    key: \"updateGestureConfig\",\n    value: function updateGestureConfig(_ref) {\n      var _ref$enabled = _ref.enabled,\n        enabled = _ref$enabled === void 0 ? true : _ref$enabled,\n        props = _objectWithoutProperties(_ref, _excluded);\n      this.resetConfig();\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"updateGestureConfig\", this).call(this, _objectSpread({\n        enabled: enabled\n      }, props));\n      this.checkCustomActivationCriteria(this.customActivationProperties);\n      if (this.config.minDist !== undefined) {\n        this.minDistSq = this.config.minDist * this.config.minDist;\n      } else if (this.hasCustomActivationCriteria) {\n        this.minDistSq = Number.MAX_SAFE_INTEGER;\n      }\n      if (this.config.minPointers !== undefined) {\n        this.minPointers = this.config.minPointers;\n      }\n      if (this.config.maxPointers !== undefined) {\n        this.maxPointers = this.config.maxPointers;\n      }\n      if (this.config.minVelocity !== undefined) {\n        this.minVelocityX = this.config.minVelocity;\n        this.minVelocityY = this.config.minVelocity;\n      }\n      if (this.config.minVelocityX !== undefined) {\n        this.minVelocityX = this.config.minVelocityX;\n      }\n      if (this.config.minVelocityY !== undefined) {\n        this.minVelocityY = this.config.minVelocityY;\n      }\n      if (this.config.activateAfterLongPress !== undefined) {\n        this.activateAfterLongPress = this.config.activateAfterLongPress;\n      }\n      if (this.config.activeOffsetXStart !== undefined) {\n        this.activeOffsetXStart = this.config.activeOffsetXStart;\n        if (this.config.activeOffsetXEnd === undefined) {\n          this.activeOffsetXEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetXEnd !== undefined) {\n        this.activeOffsetXEnd = this.config.activeOffsetXEnd;\n        if (this.config.activeOffsetXStart === undefined) {\n          this.activeOffsetXStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetXStart !== undefined) {\n        this.failOffsetXStart = this.config.failOffsetXStart;\n        if (this.config.failOffsetXEnd === undefined) {\n          this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetXEnd !== undefined) {\n        this.failOffsetXEnd = this.config.failOffsetXEnd;\n        if (this.config.failOffsetXStart === undefined) {\n          this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetYStart !== undefined) {\n        this.activeOffsetYStart = this.config.activeOffsetYStart;\n        if (this.config.activeOffsetYEnd === undefined) {\n          this.activeOffsetYEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.activeOffsetYEnd !== undefined) {\n        this.activeOffsetYEnd = this.config.activeOffsetYEnd;\n        if (this.config.activeOffsetYStart === undefined) {\n          this.activeOffsetYStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetYStart !== undefined) {\n        this.failOffsetYStart = this.config.failOffsetYStart;\n        if (this.config.failOffsetYEnd === undefined) {\n          this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n        }\n      }\n      if (this.config.failOffsetYEnd !== undefined) {\n        this.failOffsetYEnd = this.config.failOffsetYEnd;\n        if (this.config.failOffsetYStart === undefined) {\n          this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n        }\n      }\n      if (this.config.enableTrackpadTwoFingerGesture !== undefined) {\n        this.enableTrackpadTwoFingerGesture = this.config.enableTrackpadTwoFingerGesture;\n      }\n    }\n  }, {\n    key: \"resetConfig\",\n    value: function resetConfig() {\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"resetConfig\", this).call(this);\n      this.activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n      this.activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n      this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n      this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      this.activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n      this.activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n      this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n      this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      this.minVelocityX = Number.MAX_SAFE_INTEGER;\n      this.minVelocityY = Number.MAX_SAFE_INTEGER;\n      this.minVelocitySq = Number.MAX_SAFE_INTEGER;\n      this.minDistSq = DEFAULT_MIN_DIST_SQ;\n      this.minPointers = DEFAULT_MIN_POINTERS;\n      this.maxPointers = DEFAULT_MAX_POINTERS;\n      this.activateAfterLongPress = 0;\n    }\n  }, {\n    key: \"transformNativeEvent\",\n    value: function transformNativeEvent() {\n      var translationX = this.getTranslationX();\n      var translationY = this.getTranslationY();\n      return _objectSpread(_objectSpread({}, _get(_getPrototypeOf(PanGestureHandler.prototype), \"transformNativeEvent\", this).call(this)), {}, {\n        translationX: isNaN(translationX) ? 0 : translationX,\n        translationY: isNaN(translationY) ? 0 : translationY,\n        velocityX: this.velocityX,\n        velocityY: this.velocityY,\n        stylusData: this.stylusData\n      });\n    }\n  }, {\n    key: \"getTranslationX\",\n    value: function getTranslationX() {\n      return this.lastX - this.startX + this.offsetX;\n    }\n  }, {\n    key: \"getTranslationY\",\n    value: function getTranslationY() {\n      return this.lastY - this.startY + this.offsetY;\n    }\n  }, {\n    key: \"clearActivationTimeout\",\n    value: function clearActivationTimeout() {\n      clearTimeout(this.activationTimeout);\n    }\n  }, {\n    key: \"updateLastCoords\",\n    value: function updateLastCoords() {\n      var _this$tracker$getAbso = this.tracker.getAbsoluteCoordsAverage(),\n        x = _this$tracker$getAbso.x,\n        y = _this$tracker$getAbso.y;\n      this.lastX = x;\n      this.lastY = y;\n    }\n  }, {\n    key: \"updateVelocity\",\n    value: function updateVelocity(pointerId) {\n      var _velocities$x, _velocities$y;\n      var velocities = this.tracker.getVelocity(pointerId);\n      this.velocityX = (_velocities$x = velocities == null ? void 0 : velocities.x) != null ? _velocities$x : 0;\n      this.velocityY = (_velocities$y = velocities == null ? void 0 : velocities.y) != null ? _velocities$y : 0;\n    }\n  }, {\n    key: \"onPointerDown\",\n    value: function onPointerDown(event) {\n      if (!this.isButtonInConfig(event.button)) {\n        return;\n      }\n      this.tracker.addToTracker(event);\n      this.stylusData = event.stylusData;\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerDown\", this).call(this, event);\n      this.updateLastCoords();\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      this.tryBegin(event);\n      this.checkBegan();\n      this.tryToSendTouchEvent(event);\n    }\n  }, {\n    key: \"onPointerAdd\",\n    value: function onPointerAdd(event) {\n      this.tracker.addToTracker(event);\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerAdd\", this).call(this, event);\n      this.tryBegin(event);\n      this.offsetX += this.lastX - this.startX;\n      this.offsetY += this.lastY - this.startY;\n      this.updateLastCoords();\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      if (this.tracker.trackedPointersCount > this.maxPointers) {\n        if (this.state === State.ACTIVE) {\n          this.cancel();\n        } else {\n          this.fail();\n        }\n      } else {\n        this.checkBegan();\n      }\n    }\n  }, {\n    key: \"onPointerUp\",\n    value: function onPointerUp(event) {\n      this.stylusData = event.stylusData;\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerUp\", this).call(this, event);\n      if (this.state === State.ACTIVE) {\n        var lastCoords = this.tracker.getAbsoluteCoordsAverage();\n        this.lastX = lastCoords.x;\n        this.lastY = lastCoords.y;\n      }\n      this.tracker.removeFromTracker(event.pointerId);\n      if (this.tracker.trackedPointersCount === 0) {\n        this.clearActivationTimeout();\n      }\n      if (this.state === State.ACTIVE) {\n        this.end();\n      } else {\n        this.resetProgress();\n        this.fail();\n      }\n    }\n  }, {\n    key: \"onPointerRemove\",\n    value: function onPointerRemove(event) {\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerRemove\", this).call(this, event);\n      this.tracker.removeFromTracker(event.pointerId);\n      this.offsetX += this.lastX - this.startX;\n      this.offsetY += this.lastY - this.startY;\n      this.updateLastCoords();\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n      if (!(this.state === State.ACTIVE && this.tracker.trackedPointersCount < this.minPointers)) {\n        this.checkBegan();\n      }\n    }\n  }, {\n    key: \"onPointerMove\",\n    value: function onPointerMove(event) {\n      this.tracker.track(event);\n      this.stylusData = event.stylusData;\n      this.updateLastCoords();\n      this.updateVelocity(event.pointerId);\n      this.checkBegan();\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerMove\", this).call(this, event);\n    }\n  }, {\n    key: \"onPointerOutOfBounds\",\n    value: function onPointerOutOfBounds(event) {\n      if (this.shouldCancelWhenOutside) {\n        return;\n      }\n      this.tracker.track(event);\n      this.stylusData = event.stylusData;\n      this.updateLastCoords();\n      this.updateVelocity(event.pointerId);\n      this.checkBegan();\n      if (this.state === State.ACTIVE) {\n        _get(_getPrototypeOf(PanGestureHandler.prototype), \"onPointerOutOfBounds\", this).call(this, event);\n      }\n    }\n  }, {\n    key: \"scheduleWheelEnd\",\n    value: function scheduleWheelEnd(event) {\n      var _this2 = this;\n      clearTimeout(this.endWheelTimeout);\n      this.endWheelTimeout = setTimeout(function () {\n        if (_this2.state === State.ACTIVE) {\n          _this2.end();\n          _this2.tracker.removeFromTracker(event.pointerId);\n          _this2.state = State.UNDETERMINED;\n        }\n        _this2.wheelDevice = WheelDevice.UNDETERMINED;\n      }, 30);\n    }\n  }, {\n    key: \"onWheel\",\n    value: function onWheel(event) {\n      if (this.wheelDevice === WheelDevice.MOUSE || !this.enableTrackpadTwoFingerGesture) {\n        return;\n      }\n      if (this.state === State.UNDETERMINED) {\n        this.wheelDevice = event.wheelDeltaY % 120 !== 0 ? WheelDevice.TOUCHPAD : WheelDevice.MOUSE;\n        if (this.wheelDevice === WheelDevice.MOUSE) {\n          this.scheduleWheelEnd(event);\n          return;\n        }\n        this.tracker.addToTracker(event);\n        this.updateLastCoords();\n        this.startX = this.lastX;\n        this.startY = this.lastY;\n        this.begin();\n        this.activate();\n      }\n      this.tracker.track(event);\n      this.updateLastCoords();\n      this.updateVelocity(event.pointerId);\n      this.tryToSendMoveEvent(false, event);\n      this.scheduleWheelEnd(event);\n    }\n  }, {\n    key: \"shouldActivate\",\n    value: function shouldActivate() {\n      var dx = this.getTranslationX();\n      if (this.activeOffsetXStart !== Number.MAX_SAFE_INTEGER && dx < this.activeOffsetXStart) {\n        return true;\n      }\n      if (this.activeOffsetXEnd !== Number.MIN_SAFE_INTEGER && dx > this.activeOffsetXEnd) {\n        return true;\n      }\n      var dy = this.getTranslationY();\n      if (this.activeOffsetYStart !== Number.MAX_SAFE_INTEGER && dy < this.activeOffsetYStart) {\n        return true;\n      }\n      if (this.activeOffsetYEnd !== Number.MIN_SAFE_INTEGER && dy > this.activeOffsetYEnd) {\n        return true;\n      }\n      var distanceSq = dx * dx + dy * dy;\n      if (this.minDistSq !== Number.MAX_SAFE_INTEGER && distanceSq >= this.minDistSq) {\n        return true;\n      }\n      var vx = this.velocityX;\n      if (this.minVelocityX !== Number.MAX_SAFE_INTEGER && (this.minVelocityX < 0 && vx <= this.minVelocityX || this.minVelocityX >= 0 && this.minVelocityX <= vx)) {\n        return true;\n      }\n      var vy = this.velocityY;\n      if (this.minVelocityY !== Number.MAX_SAFE_INTEGER && (this.minVelocityY < 0 && vy <= this.minVelocityY || this.minVelocityY >= 0 && this.minVelocityY <= vy)) {\n        return true;\n      }\n      var velocitySq = vx * vx + vy * vy;\n      return this.minVelocitySq !== Number.MAX_SAFE_INTEGER && velocitySq >= this.minVelocitySq;\n    }\n  }, {\n    key: \"shouldFail\",\n    value: function shouldFail() {\n      var dx = this.getTranslationX();\n      var dy = this.getTranslationY();\n      var distanceSq = dx * dx + dy * dy;\n      if (this.activateAfterLongPress > 0 && distanceSq > DEFAULT_MIN_DIST_SQ) {\n        this.clearActivationTimeout();\n        return true;\n      }\n      if (this.failOffsetXStart !== Number.MIN_SAFE_INTEGER && dx < this.failOffsetXStart) {\n        return true;\n      }\n      if (this.failOffsetXEnd !== Number.MAX_SAFE_INTEGER && dx > this.failOffsetXEnd) {\n        return true;\n      }\n      if (this.failOffsetYStart !== Number.MIN_SAFE_INTEGER && dy < this.failOffsetYStart) {\n        return true;\n      }\n      return this.failOffsetYEnd !== Number.MAX_SAFE_INTEGER && dy > this.failOffsetYEnd;\n    }\n  }, {\n    key: \"tryBegin\",\n    value: function tryBegin(event) {\n      var _this3 = this;\n      if (this.state === State.UNDETERMINED && this.tracker.trackedPointersCount >= this.minPointers) {\n        this.resetProgress();\n        this.offsetX = 0;\n        this.offsetY = 0;\n        this.velocityX = 0;\n        this.velocityY = 0;\n        this.begin();\n        if (this.activateAfterLongPress > 0) {\n          this.activationTimeout = setTimeout(function () {\n            _this3.activate();\n          }, this.activateAfterLongPress);\n        }\n      } else {\n        this.updateVelocity(event.pointerId);\n      }\n    }\n  }, {\n    key: \"checkBegan\",\n    value: function checkBegan() {\n      if (this.state === State.BEGAN) {\n        if (this.shouldFail()) {\n          this.fail();\n        } else if (this.shouldActivate()) {\n          this.activate();\n        }\n      }\n    }\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      if (this.state !== State.ACTIVE) {\n        this.resetProgress();\n      }\n      _get(_getPrototypeOf(PanGestureHandler.prototype), \"activate\", this).call(this, force);\n    }\n  }, {\n    key: \"onCancel\",\n    value: function onCancel() {\n      this.clearActivationTimeout();\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.clearActivationTimeout();\n    }\n  }, {\n    key: \"resetProgress\",\n    value: function resetProgress() {\n      if (this.state === State.ACTIVE) {\n        return;\n      }\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n    }\n  }]);\n  return PanGestureHandler;\n}(GestureHandler);\nexport { PanGestureHandler as default };","map":{"version":3,"names":["State","DEFAULT_TOUCH_SLOP","WheelDevice","GestureHandler","DEFAULT_MIN_POINTERS","DEFAULT_MAX_POINTERS","DEFAULT_MIN_DIST_SQ","PanGestureHandler","_GestureHandler","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","customActivationProperties","velocityX","velocityY","minDistSq","activeOffsetXStart","Number","MAX_SAFE_INTEGER","activeOffsetXEnd","MIN_SAFE_INTEGER","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY","minVelocitySq","minPointers","maxPointers","startX","startY","offsetX","offsetY","lastX","lastY","activateAfterLongPress","activationTimeout","enableTrackpadTwoFingerGesture","endWheelTimeout","wheelDevice","UNDETERMINED","_createClass","key","value","updateGestureConfig","_ref","_ref$enabled","enabled","props","_objectWithoutProperties","_excluded","resetConfig","_get","_getPrototypeOf","prototype","_objectSpread","checkCustomActivationCriteria","config","minDist","undefined","hasCustomActivationCriteria","minVelocity","transformNativeEvent","translationX","getTranslationX","translationY","getTranslationY","isNaN","stylusData","clearActivationTimeout","clearTimeout","updateLastCoords","_this$tracker$getAbso","tracker","getAbsoluteCoordsAverage","x","y","updateVelocity","pointerId","_velocities$x","_velocities$y","velocities","getVelocity","onPointerDown","event","isButtonInConfig","button","addToTracker","tryBegin","checkBegan","tryToSendTouchEvent","onPointerAdd","trackedPointersCount","state","ACTIVE","cancel","fail","onPointerUp","lastCoords","removeFromTracker","end","resetProgress","onPointerRemove","onPointerMove","track","onPointerOutOfBounds","shouldCancelWhenOutside","scheduleWheelEnd","_this2","setTimeout","onWheel","MOUSE","wheelDeltaY","TOUCHPAD","begin","activate","tryToSendMoveEvent","shouldActivate","dx","dy","distanceSq","vx","vy","velocitySq","shouldFail","_this3","BEGAN","force","onCancel","onReset","default"],"sources":["/home/runner/work/DemoReception/DemoReception/example/node_modules/react-native-gesture-handler/src/web/handlers/PanGestureHandler.ts"],"sourcesContent":["import { State } from '../../State';\nimport { DEFAULT_TOUCH_SLOP } from '../constants';\nimport { AdaptedEvent, Config, StylusData, WheelDevice } from '../interfaces';\n\nimport GestureHandler from './GestureHandler';\n\nconst DEFAULT_MIN_POINTERS = 1;\nconst DEFAULT_MAX_POINTERS = 10;\nconst DEFAULT_MIN_DIST_SQ = DEFAULT_TOUCH_SLOP * DEFAULT_TOUCH_SLOP;\n\nexport default class PanGestureHandler extends GestureHandler {\n  private readonly customActivationProperties: string[] = [\n    'activeOffsetXStart',\n    'activeOffsetXEnd',\n    'failOffsetXStart',\n    'failOffsetXEnd',\n    'activeOffsetYStart',\n    'activeOffsetYEnd',\n    'failOffsetYStart',\n    'failOffsetYEnd',\n    'minVelocityX',\n    'minVelocityY',\n    'minVelocity',\n  ];\n\n  public velocityX = 0;\n  public velocityY = 0;\n\n  private minDistSq = DEFAULT_MIN_DIST_SQ;\n\n  private activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n  private activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n  private failOffsetXStart = Number.MIN_SAFE_INTEGER;\n  private failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n\n  private activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n  private activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n  private failOffsetYStart = Number.MIN_SAFE_INTEGER;\n  private failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n\n  private minVelocityX = Number.MAX_SAFE_INTEGER;\n  private minVelocityY = Number.MAX_SAFE_INTEGER;\n  private minVelocitySq = Number.MAX_SAFE_INTEGER;\n\n  private minPointers = DEFAULT_MIN_POINTERS;\n  private maxPointers = DEFAULT_MAX_POINTERS;\n\n  private startX = 0;\n  private startY = 0;\n  private offsetX = 0;\n  private offsetY = 0;\n  private lastX = 0;\n  private lastY = 0;\n\n  private stylusData: StylusData | undefined;\n\n  private activateAfterLongPress = 0;\n  private activationTimeout = 0;\n\n  private enableTrackpadTwoFingerGesture = false;\n  private endWheelTimeout = 0;\n  private wheelDevice = WheelDevice.UNDETERMINED;\n\n  public updateGestureConfig({ enabled = true, ...props }: Config): void {\n    this.resetConfig();\n\n    super.updateGestureConfig({ enabled: enabled, ...props });\n    this.checkCustomActivationCriteria(this.customActivationProperties);\n\n    if (this.config.minDist !== undefined) {\n      this.minDistSq = this.config.minDist * this.config.minDist;\n    } else if (this.hasCustomActivationCriteria) {\n      this.minDistSq = Number.MAX_SAFE_INTEGER;\n    }\n\n    if (this.config.minPointers !== undefined) {\n      this.minPointers = this.config.minPointers;\n    }\n\n    if (this.config.maxPointers !== undefined) {\n      this.maxPointers = this.config.maxPointers;\n    }\n\n    if (this.config.minVelocity !== undefined) {\n      this.minVelocityX = this.config.minVelocity;\n      this.minVelocityY = this.config.minVelocity;\n    }\n\n    if (this.config.minVelocityX !== undefined) {\n      this.minVelocityX = this.config.minVelocityX;\n    }\n\n    if (this.config.minVelocityY !== undefined) {\n      this.minVelocityY = this.config.minVelocityY;\n    }\n\n    if (this.config.activateAfterLongPress !== undefined) {\n      this.activateAfterLongPress = this.config.activateAfterLongPress;\n    }\n\n    if (this.config.activeOffsetXStart !== undefined) {\n      this.activeOffsetXStart = this.config.activeOffsetXStart;\n\n      if (this.config.activeOffsetXEnd === undefined) {\n        this.activeOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetXEnd !== undefined) {\n      this.activeOffsetXEnd = this.config.activeOffsetXEnd;\n\n      if (this.config.activeOffsetXStart === undefined) {\n        this.activeOffsetXStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetXStart !== undefined) {\n      this.failOffsetXStart = this.config.failOffsetXStart;\n\n      if (this.config.failOffsetXEnd === undefined) {\n        this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetXEnd !== undefined) {\n      this.failOffsetXEnd = this.config.failOffsetXEnd;\n\n      if (this.config.failOffsetXStart === undefined) {\n        this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetYStart !== undefined) {\n      this.activeOffsetYStart = this.config.activeOffsetYStart;\n\n      if (this.config.activeOffsetYEnd === undefined) {\n        this.activeOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.activeOffsetYEnd !== undefined) {\n      this.activeOffsetYEnd = this.config.activeOffsetYEnd;\n\n      if (this.config.activeOffsetYStart === undefined) {\n        this.activeOffsetYStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetYStart !== undefined) {\n      this.failOffsetYStart = this.config.failOffsetYStart;\n\n      if (this.config.failOffsetYEnd === undefined) {\n        this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.failOffsetYEnd !== undefined) {\n      this.failOffsetYEnd = this.config.failOffsetYEnd;\n\n      if (this.config.failOffsetYStart === undefined) {\n        this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n      }\n    }\n\n    if (this.config.enableTrackpadTwoFingerGesture !== undefined) {\n      this.enableTrackpadTwoFingerGesture =\n        this.config.enableTrackpadTwoFingerGesture;\n    }\n  }\n\n  protected resetConfig(): void {\n    super.resetConfig();\n\n    this.activeOffsetXStart = -Number.MAX_SAFE_INTEGER;\n    this.activeOffsetXEnd = Number.MIN_SAFE_INTEGER;\n    this.failOffsetXStart = Number.MIN_SAFE_INTEGER;\n    this.failOffsetXEnd = Number.MAX_SAFE_INTEGER;\n\n    this.activeOffsetYStart = Number.MAX_SAFE_INTEGER;\n    this.activeOffsetYEnd = Number.MIN_SAFE_INTEGER;\n    this.failOffsetYStart = Number.MIN_SAFE_INTEGER;\n    this.failOffsetYEnd = Number.MAX_SAFE_INTEGER;\n\n    this.minVelocityX = Number.MAX_SAFE_INTEGER;\n    this.minVelocityY = Number.MAX_SAFE_INTEGER;\n    this.minVelocitySq = Number.MAX_SAFE_INTEGER;\n\n    this.minDistSq = DEFAULT_MIN_DIST_SQ;\n\n    this.minPointers = DEFAULT_MIN_POINTERS;\n    this.maxPointers = DEFAULT_MAX_POINTERS;\n\n    this.activateAfterLongPress = 0;\n  }\n\n  protected transformNativeEvent() {\n    const translationX: number = this.getTranslationX();\n    const translationY: number = this.getTranslationY();\n\n    return {\n      ...super.transformNativeEvent(),\n      translationX: isNaN(translationX) ? 0 : translationX,\n      translationY: isNaN(translationY) ? 0 : translationY,\n      velocityX: this.velocityX,\n      velocityY: this.velocityY,\n      stylusData: this.stylusData,\n    };\n  }\n\n  private getTranslationX(): number {\n    return this.lastX - this.startX + this.offsetX;\n  }\n  private getTranslationY(): number {\n    return this.lastY - this.startY + this.offsetY;\n  }\n\n  private clearActivationTimeout(): void {\n    clearTimeout(this.activationTimeout);\n  }\n\n  private updateLastCoords() {\n    const { x, y } = this.tracker.getAbsoluteCoordsAverage();\n\n    this.lastX = x;\n    this.lastY = y;\n  }\n\n  private updateVelocity(pointerId: number) {\n    const velocities = this.tracker.getVelocity(pointerId);\n\n    this.velocityX = velocities?.x ?? 0;\n    this.velocityY = velocities?.y ?? 0;\n  }\n\n  // Events Handling\n  protected onPointerDown(event: AdaptedEvent): void {\n    if (!this.isButtonInConfig(event.button)) {\n      return;\n    }\n\n    this.tracker.addToTracker(event);\n    this.stylusData = event.stylusData;\n\n    super.onPointerDown(event);\n\n    this.updateLastCoords();\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    this.tryBegin(event);\n    this.checkBegan();\n\n    this.tryToSendTouchEvent(event);\n  }\n\n  protected onPointerAdd(event: AdaptedEvent): void {\n    this.tracker.addToTracker(event);\n    super.onPointerAdd(event);\n    this.tryBegin(event);\n\n    this.offsetX += this.lastX - this.startX;\n    this.offsetY += this.lastY - this.startY;\n\n    this.updateLastCoords();\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    if (this.tracker.trackedPointersCount > this.maxPointers) {\n      if (this.state === State.ACTIVE) {\n        this.cancel();\n      } else {\n        this.fail();\n      }\n    } else {\n      this.checkBegan();\n    }\n  }\n\n  protected onPointerUp(event: AdaptedEvent): void {\n    this.stylusData = event.stylusData;\n\n    super.onPointerUp(event);\n    if (this.state === State.ACTIVE) {\n      const lastCoords = this.tracker.getAbsoluteCoordsAverage();\n      this.lastX = lastCoords.x;\n      this.lastY = lastCoords.y;\n    }\n\n    this.tracker.removeFromTracker(event.pointerId);\n\n    if (this.tracker.trackedPointersCount === 0) {\n      this.clearActivationTimeout();\n    }\n\n    if (this.state === State.ACTIVE) {\n      this.end();\n    } else {\n      this.resetProgress();\n      this.fail();\n    }\n  }\n\n  protected onPointerRemove(event: AdaptedEvent): void {\n    super.onPointerRemove(event);\n    this.tracker.removeFromTracker(event.pointerId);\n\n    this.offsetX += this.lastX - this.startX;\n    this.offsetY += this.lastY - this.startY;\n\n    this.updateLastCoords();\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n\n    if (\n      !(\n        this.state === State.ACTIVE &&\n        this.tracker.trackedPointersCount < this.minPointers\n      )\n    ) {\n      this.checkBegan();\n    }\n  }\n\n  protected onPointerMove(event: AdaptedEvent): void {\n    this.tracker.track(event);\n    this.stylusData = event.stylusData;\n\n    this.updateLastCoords();\n    this.updateVelocity(event.pointerId);\n\n    this.checkBegan();\n\n    super.onPointerMove(event);\n  }\n\n  protected onPointerOutOfBounds(event: AdaptedEvent): void {\n    if (this.shouldCancelWhenOutside) {\n      return;\n    }\n\n    this.tracker.track(event);\n    this.stylusData = event.stylusData;\n\n    this.updateLastCoords();\n    this.updateVelocity(event.pointerId);\n\n    this.checkBegan();\n\n    if (this.state === State.ACTIVE) {\n      super.onPointerOutOfBounds(event);\n    }\n  }\n\n  private scheduleWheelEnd(event: AdaptedEvent) {\n    clearTimeout(this.endWheelTimeout);\n\n    this.endWheelTimeout = setTimeout(() => {\n      if (this.state === State.ACTIVE) {\n        this.end();\n        this.tracker.removeFromTracker(event.pointerId);\n        this.state = State.UNDETERMINED;\n      }\n\n      this.wheelDevice = WheelDevice.UNDETERMINED;\n    }, 30);\n  }\n\n  protected onWheel(event: AdaptedEvent): void {\n    if (\n      this.wheelDevice === WheelDevice.MOUSE ||\n      !this.enableTrackpadTwoFingerGesture\n    ) {\n      return;\n    }\n\n    if (this.state === State.UNDETERMINED) {\n      this.wheelDevice =\n        event.wheelDeltaY! % 120 !== 0\n          ? WheelDevice.TOUCHPAD\n          : WheelDevice.MOUSE;\n\n      if (this.wheelDevice === WheelDevice.MOUSE) {\n        this.scheduleWheelEnd(event);\n        return;\n      }\n\n      this.tracker.addToTracker(event);\n\n      this.updateLastCoords();\n\n      this.startX = this.lastX;\n      this.startY = this.lastY;\n\n      this.begin();\n      this.activate();\n    }\n    this.tracker.track(event);\n\n    this.updateLastCoords();\n    this.updateVelocity(event.pointerId);\n\n    this.tryToSendMoveEvent(false, event);\n    this.scheduleWheelEnd(event);\n  }\n\n  private shouldActivate(): boolean {\n    const dx: number = this.getTranslationX();\n\n    if (\n      this.activeOffsetXStart !== Number.MAX_SAFE_INTEGER &&\n      dx < this.activeOffsetXStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.activeOffsetXEnd !== Number.MIN_SAFE_INTEGER &&\n      dx > this.activeOffsetXEnd\n    ) {\n      return true;\n    }\n\n    const dy: number = this.getTranslationY();\n\n    if (\n      this.activeOffsetYStart !== Number.MAX_SAFE_INTEGER &&\n      dy < this.activeOffsetYStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.activeOffsetYEnd !== Number.MIN_SAFE_INTEGER &&\n      dy > this.activeOffsetYEnd\n    ) {\n      return true;\n    }\n\n    const distanceSq: number = dx * dx + dy * dy;\n\n    if (\n      this.minDistSq !== Number.MAX_SAFE_INTEGER &&\n      distanceSq >= this.minDistSq\n    ) {\n      return true;\n    }\n\n    const vx: number = this.velocityX;\n\n    if (\n      this.minVelocityX !== Number.MAX_SAFE_INTEGER &&\n      ((this.minVelocityX < 0 && vx <= this.minVelocityX) ||\n        (this.minVelocityX >= 0 && this.minVelocityX <= vx))\n    ) {\n      return true;\n    }\n\n    const vy: number = this.velocityY;\n    if (\n      this.minVelocityY !== Number.MAX_SAFE_INTEGER &&\n      ((this.minVelocityY < 0 && vy <= this.minVelocityY) ||\n        (this.minVelocityY >= 0 && this.minVelocityY <= vy))\n    ) {\n      return true;\n    }\n\n    const velocitySq: number = vx * vx + vy * vy;\n\n    return (\n      this.minVelocitySq !== Number.MAX_SAFE_INTEGER &&\n      velocitySq >= this.minVelocitySq\n    );\n  }\n\n  private shouldFail(): boolean {\n    const dx: number = this.getTranslationX();\n    const dy: number = this.getTranslationY();\n    const distanceSq = dx * dx + dy * dy;\n\n    if (this.activateAfterLongPress > 0 && distanceSq > DEFAULT_MIN_DIST_SQ) {\n      this.clearActivationTimeout();\n      return true;\n    }\n\n    if (\n      this.failOffsetXStart !== Number.MIN_SAFE_INTEGER &&\n      dx < this.failOffsetXStart\n    ) {\n      return true;\n    }\n\n    if (\n      this.failOffsetXEnd !== Number.MAX_SAFE_INTEGER &&\n      dx > this.failOffsetXEnd\n    ) {\n      return true;\n    }\n\n    if (\n      this.failOffsetYStart !== Number.MIN_SAFE_INTEGER &&\n      dy < this.failOffsetYStart\n    ) {\n      return true;\n    }\n\n    return (\n      this.failOffsetYEnd !== Number.MAX_SAFE_INTEGER &&\n      dy > this.failOffsetYEnd\n    );\n  }\n\n  private tryBegin(event: AdaptedEvent): void {\n    if (\n      this.state === State.UNDETERMINED &&\n      this.tracker.trackedPointersCount >= this.minPointers\n    ) {\n      this.resetProgress();\n      this.offsetX = 0;\n      this.offsetY = 0;\n      this.velocityX = 0;\n      this.velocityY = 0;\n\n      this.begin();\n\n      if (this.activateAfterLongPress > 0) {\n        this.activationTimeout = setTimeout(() => {\n          this.activate();\n        }, this.activateAfterLongPress);\n      }\n    } else {\n      this.updateVelocity(event.pointerId);\n    }\n  }\n\n  private checkBegan(): void {\n    if (this.state === State.BEGAN) {\n      if (this.shouldFail()) {\n        this.fail();\n      } else if (this.shouldActivate()) {\n        this.activate();\n      }\n    }\n  }\n\n  public activate(force = false): void {\n    if (this.state !== State.ACTIVE) {\n      this.resetProgress();\n    }\n\n    super.activate(force);\n  }\n\n  protected onCancel(): void {\n    this.clearActivationTimeout();\n  }\n\n  protected onReset(): void {\n    this.clearActivationTimeout();\n  }\n\n  protected resetProgress(): void {\n    if (this.state === State.ACTIVE) {\n      return;\n    }\n\n    this.startX = this.lastX;\n    this.startY = this.lastY;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}